!function(){function e(e,t){function n(e,t){if(Object(e)!==e)r[t]=e;else if(c(e)){for(var i=0,o=e.length;o>i;i++)n(e[i],t?t+"."+i:""+i);0===o&&(r[t]=[])}else{var f=!0;for(var u in e)f=!1,n(e[u],t?t+"."+u:u);f&&(r[t]={})}}var r={};if(n(e,""),t){for(var i,o={},f=Object.keys(r).sort(),u=0;u<f.length;u++)i=f[u],o[i]=r[i];return o}return r}function t(e){"use strict";if(Object(e)!==e||c(e))return e;var t,n,r,i,o,f={};for(var u in e){t=f,n="",i=0;do r=l.call(u,".",i),o=u.substring(i,~r?r:void 0),t=t[n]||(t[n]=isNaN(parseInt(o))?{}:[]),n=o,i=r+1;while(r>=0);t[n]=e[u]}return f[""]}function n(e){var t,n=!0,r=[],i=[e],o=[e],f=[n?s:"[Circular]"],u=e,a=1;return function(e,n){return""!==e&&(u!==this&&(t=a-l.call(i,this)-1,a-=t,i.splice(a,i.length),r.splice(a-1,r.length),u=this),"object"==typeof n&&n&&(~l.call(i,n)||i.push(u=n),a=i.length,t=l.call(o,n),0>t?(t=o.push(n)-1,r.push((""+e).replace(p,d)),f[t]=s+r.join(s)):n=f[t])),n}}function r(e,t){var n,r;for("string"==typeof e&&(e=e.split(".")),t=t||("undefined"!=typeof window?window:global),n=0;n<e.length;n++){if(r=e[n],!t.hasOwnProperty(r))return;t=t[r]}return t}function i(e,t){return t?JSON.stringify(e,n(e)):JSON.parse(JSON.stringify(e,n(e)))}function o(n,r,o){n=i(n),n=e(n);var f,u={},a=c(r);for(var s in n)f=n[s],(a&&~l.call(r,f)||n[s]===r)&&(u[s]=f);return o?u:t(u)}function f(e,t){var n=JSON.stringify(e,null,t||2);if("undefined"!=typeof document){var r=new Blob([n],{type:"text/plain"}),i=document.createElement("a");if("undefined"!=typeof Blob&&"function"==typeof URL.createObjectURL&&"undefined"!=typeof i.download)return i.href=URL.createObjectURL(r),i.download="object.txt",void i.click()}return n}function u(t,n){return t=i(t),t=e(t,!0),n=i(n),n=e(n,!0),JSON.stringify(t)===JSON.stringify(n)}function a(n,r,o,f){n=i(n),n=e(n,!!o),r=i(r),r=e(r,!!o);for(var u,a={},c=Object.keys(n),l=0;l<c.length;l++)u=c[l],n[u]!==r[u]&&(a[u]=r[u]);return f?a:t(a)}var c=Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"==={}.toString.call(e)}),l=[].indexOf||function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1},s="~",d="\\x"+("0"+s.charCodeAt(0).toString(16)).slice(-2),p=new RegExp(d,"g"),y={unflatten:t,flatten:e,accessProperty:r,discardCircular:i,filterValue:o,downloadStringified:f,areObjectsEqual:u,getObjectsDiff:a};"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=y:"undefined"!=typeof document&&("function"==typeof define&&define.amd?define([],function(){return y}):window.NestedObjectsUtil=y)}();